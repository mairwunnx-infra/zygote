---
networks:
  infra:
    external: true
    name: infra
  public:
    external: true
    name: public
services:
  portainer:
    pull_policy: always
    command: '-H unix:///var/run/docker.sock'
    container_name: portainer
    image: portainer/portainer-ce:2.33.4
    logging:
      driver: local
      options:
        max-file: '3'
        max-size: 10m
    networks: [infra]
    ports:
      - '9000:9000'
    restart: unless-stopped
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - portainer:/data
volumes:
  portainer: {}